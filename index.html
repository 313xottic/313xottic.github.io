<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>eBay Auth Complete</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 40px auto; padding: 20px; text-align: center; background: #f9f9f9; }
    h1 { color: #0066cc; }
    pre { background: #e8f4ff; padding: 16px; border-radius: 8px; word-break: break-all; font-size: 16px; text-align: left; }
    .copy-btn { margin-top: 16px; padding: 10px 20px; background: #0066cc; color: white; border: none; border-radius: 6px; cursor: pointer; }
    .copy-btn:hover { background: #0052a3; }
  </style>
</head>
<body>
  <h1>Authorization Successfully Completed!</h1>
  <p>Paste this code into Discord using the command:</p>
  <code>/ebay-auth-code code: [paste here]</code>

  <h3>Authorization Code:</h3>
  <pre id="code">Loading...</pre>

  <button class="copy-btn" onclick="copyCode()">Copy Code</button>

  <script>
    const params = new URLSearchParams(window.location.search);
    const code = params.get('code');
    const codeElement = document.getElementById('code');

    if (code) {
      codeElement.textContent = code;
    } else {
      codeElement.textContent = 'No code found – check your browser address bar after ?code=';
    }

    function copyCode() {
      navigator.clipboard.writeText(codeElement.textContent).then(() => {
        alert('Code copied to clipboard!');
      }).catch(() => {
        alert('Failed to copy – please copy manually.');
      });
    }
  </script>
</body>
</html>
